{
    "dependencies": [
        "polybar"
    ],
    "install": [
        "copy colors ~/.config/polybar/config",
        "append bar ~/.config/polybar/config",
        "append modules ~/.config/polybar/config",
        "append settings ~/.config/polybar/config",
        {
            "question": "What is the name of your main display? (use xrandr to view the names)",
            "variable": "{primary_display}",
            "answer": {
                "*": [
                    "replace ~/.config/polybar/config [MONITOR] {primary_display}"
                ]
            }
        },
        {
            "question": "What is your primary screen width? (in pixel)",
            "variable": "{primary_screen_width}",
            "answer": {
                "*": [
                    {
                        "question": "Use HiDPI scaling? (yes/no)",
                        "variable": "{use_hidpi}",
                        "answer": {
                            "yes": [
                                "replace ~/.config/polybar/config [FONTSIZE] 16",
                                "replace ~/.config/polybar/config [HEIGHT] 56",
            
                                "replace ~/.config/polybar/config [WIDTH] {primary_screen_width}",
                                "replace ~/.config/polybar/config [GAPS] 15"
                            ],
                            "no": [
                                "replace ~/.config/polybar/config [FONTSIZE] 10",
                                "replace ~/.config/polybar/config [HEIGHT] 36",
            
                                "replace ~/.config/polybar/config [WIDTH] {primary_screen_width}",
                                "replace ~/.config/polybar/config [GAPS] 10"
                            ]
                        }
                    }
                ]
            }
        },
        {
            "question": "Is this a desktop or notebook? (desktop/notebook)",
            "variable": "{device_type}",
            "answer": {
                "desktop": [
                    "replace ~/.config/polybar/config [MODULES-RIGHT] memory%20cpu"
                ],
                "notebook": [
                    "replace ~/.config/polybar/config [MODULES-RIGHT] pulseaudio%20memory%20cpu%20battery%20wlan"
                ]
            }
        }
    ]
}